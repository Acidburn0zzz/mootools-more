<div id="foo" style="width: 400px; border: 1px solid black; height: 100px; overflow:hidden;background:silver;">
</div>
<script src="/depender/build?require=Core/Element,More/Class.refactor"></script>
<script>
	
var Cat = new Class({
    energy: 0,
    
	eat: function(){
    	this.energy++;
    }
});
 
Cat = Class.refactor(Cat, {
    eat: function(){
        this.previous(); //energy++!
        $('foo').grab(new Element('p',{text: "this cat has " + this.energy + " energy"}),'after');
    }
});

Cat = Class.refactor(Cat, {
    eat: function(){
        this.previous(); //energy++!
        this.previous(); //energy++!
        $('foo').set('text',"this cat has " + this.energy + " energy");
    }
});



new Cat().eat();


</script>